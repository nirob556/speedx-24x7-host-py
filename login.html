{% extends "base.html" %}
{% block content %}
<div class="flex items-center justify-center min-h-screen relative overflow-hidden">
    
    <!-- Background Effects -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-blue-500/10 rounded-full blur-3xl pointer-events-none"></div>

    <div class="glass p-8 md:p-12 rounded-3xl w-full max-w-md text-center relative z-10 border-t border-white/10 shadow-2xl">
        
        <div class="mb-8">
            <div class="text-4xl font-cyber font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 mb-2">SPEED X<span class="text-blue-500">HOST</span></div>
            <p class="text-gray-500 text-sm">Next Generation Bot Hosting Platform</p>
        </div>

        {% if error %}
        <div class="bg-red-500/20 border border-red-500/50 text-red-400 p-3 rounded-xl text-sm mb-6 flex items-center gap-2 justify-center">
            <i class="fas fa-exclamation-circle"></i> {{ error }}
        </div>
        {% endif %}

        <button onclick="googleLogin()" class="w-full py-4 rounded-xl bg-white text-black font-bold flex items-center justify-center gap-3 hover:bg-gray-200 transition group">
            <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-6 h-6 group-hover:scale-110 transition">
            Continue with Google
        </button>

        <div class="mt-8 text-xs text-gray-600">
            By logging in, you agree to our <a href="#" class="text-gray-400 hover:text-white">Terms</a> and <a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a>.
        </div>
    </div>

    <!-- Hidden Form -->
    <form id="loginForm" action="/login" method="POST" class="hidden">
        <input type="hidden" name="uid" id="uid">
        <input type="hidden" name="email" id="email">
        <input type="hidden" name="photo" id="photo">
    </form>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

  // !!! IMPORTANT: Yahan par aapko apni ASLI Firebase Config dalni hogi !!!
  // Ye config Google Login ko manage karti hai.
  const firebaseConfig = {
    apiKey: "AIzaSyDc11wFIm60-ms6fQAGrMZhEyFDan1c0xQ", 
    authDomain: "dpx-hosting-web.firebaseapp.com",
    projectId: "dpx-hosting-web",
    storageBucket: "dpx-hosting-web.firebasestorage.app",
    messagingSenderId: "801044829546",
    appId: "1:801044829546:web:914ace66d6e7c323ffc113",
    measurementId: "G-SG3T3EW45V"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  window.googleLogin = () => {
      signInWithPopup(auth, provider).then((result) => {
          const user = result.user;
          document.getElementById('uid').value = user.uid;
          document.getElementById('email').value = user.email;
          document.getElementById('photo').value = user.photoURL;
          document.getElementById('loginForm').submit();
      }).catch((error) => {
          // console.error(error);
          alert("Login Failed: " + error.message);
      });
  }
</script>
{% endblock %}

